% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocessing.R
\name{prepare_data_blocks}
\alias{prepare_data_blocks}
\title{Prepare Multiple Data Blocks for Unmixing}
\usage{
prepare_data_blocks(
  dz_raw = NULL,
  bp_raw = NULL,
  hm_raw = NULL,
  other_raw = NULL,
  dz_vars = NULL,
  bp_vars = NULL,
  hm_vars = NULL,
  n_points_dz = 129,
  apply_clr_bp = FALSE,
  apply_clr_hm = FALSE,
  verbose = TRUE
)
}
\arguments{
\item{dz_raw}{Data frame with detrital zircon ages (optional)}

\item{bp_raw}{Data frame with bulk petrology counts (optional)}

\item{hm_raw}{Data frame with heavy mineral counts (optional)}

\item{other_raw}{Named list of additional data frames (optional)}

\item{dz_vars}{Character vector of age variables for DZ}

\item{bp_vars}{Character vector of mineral columns for BP}

\item{hm_vars}{Character vector of mineral columns for HM}

\item{n_points_dz}{Number of bins for DZ discretization (default: 129)}

\item{apply_clr_bp}{Apply CLR to BP? (default: FALSE, will be done in unmixing)}

\item{apply_clr_hm}{Apply CLR to HM? (default: FALSE)}

\item{verbose}{Print progress messages? (default: TRUE)}
}
\value{
A list ready for provenance_unmix():
  \item{data_list}{Named list of data matrices}
  \item{data_types}{Named character vector of data types}
  \item{samples}{Common sample names (aligned)}
  \item{metadata}{List with preprocessing details for each block}
}
\description{
Convenience function to prepare multiple data blocks at once.
Combines build_dz_kde_block() and build_bp_block() with alignment checking.
}
\examples{
\dontrun{
# Prepare all data at once
prepared <- prepare_data_blocks(
  dz_raw = my_dz_ages,
  bp_raw = my_bp_counts,
  dz_vars = c("age_concordia", "ti_temp"),
  bp_vars = c("Qtz", "Fsp", "Lith", "Musc"),
  n_points_dz = 129
)

# Unmix directly
result <- provenance_unmix(
  data_list = prepared$data_list,
  data_types = prepared$data_types,
  K = 3
)
}

}
